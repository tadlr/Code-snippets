{"version":3,"file":"survey-submit-ajax.min.js","sources":["survey-submit-ajax.js"],"sourcesContent":["jQuery(document).ready(function($) {\r\n   $('.survey-action.submit').on('click', function(){\r\n      var survey_id = $(this).data('survey-id');\r\n      var full_submission = [];\r\n      var user_selections = [];\r\n\r\n      if($('.question.current').find('input:checked').length) {\r\n         $('.error-msg').removeClass('show');\r\n\r\n         $('.survey-questions').find('.question').each(function(){\r\n            var selection = {\r\n               question : $(this).find('.question-title').text(),\r\n               choices : [],\r\n            };\r\n   \r\n            var selectedChoices = $(this).find('input:checked');\r\n            selectedChoices.each(function(){\r\n               //console.log($(this).val());\r\n               selection.choices.push($(this).val());\r\n            });\r\n   \r\n            full_submission.push(selection);\r\n\r\n            if($(this).hasClass('question-confirmation')) {\r\n               if($(this).hasClass('multiple')) {\r\n                  var multipleChoices = [];\r\n                  $(this).find('input:checked').each(function(){\r\n                     multipleChoices.push($(this).val());\r\n                  });\r\n                  user_selections.push(multipleChoices);\r\n               } else {\r\n                  $(this).find('input:checked').each(function(){\r\n                     user_selections.push($(this).val());\r\n                  });\r\n               }\r\n            }\r\n         });\r\n         \r\n         /*\r\n         $('.question.question-confirmation').find('.choice').each(function(){\r\n            var input = $(this).find('input');\r\n            if(input.is(':checked')){\r\n               if($(this).hasClass('multiple')) {\r\n                  \r\n               } else {\r\n                  user_selections.push(input.val());\r\n               } \r\n            }\r\n         });\r\n         */\r\n   \r\n         //console.log(full_submission);\r\n         //console.log(user_selections);\r\n   \r\n         if(user_selections.length > 0) {\r\n            $.ajax({\r\n               url : '/wp-content/themes/custom_theme/partials/survey-submit.php', // surveySubmitAjax.ajaxurl\r\n               type : 'post',\r\n               dataType : 'html',\r\n               data : {\r\n                  survey_id : survey_id,\r\n                  user_selections : user_selections,\r\n                  full_submission : full_submission\r\n               },\r\n               success : function( response ) {\r\n                  console.log(response);\r\n                  $('.survey-questions, .survey-footer').addClass('d-none');\r\n                  $('.survey-reset').removeClass('d-none');\r\n                  $('.survey-result').append(response);\r\n                  $([document.documentElement, document.body]).animate({\r\n                     scrollTop: $('.survey-wrap').offset().top - 250\r\n                   }, 300, 'linear');\r\n               }\r\n            });\r\n         }\r\n         return false;\r\n      } else {\r\n         $('.error-msg').addClass('show');\r\n      }\r\n   });\r\n});"],"names":["jQuery","document","ready","$","on","survey_id","this","data","full_submission","user_selections","find","length","removeClass","each","multipleChoices","selection","question","text","choices","push","val","hasClass","ajax","url","type","dataType","success","response","console","log","addClass","append","documentElement","body","animate","scrollTop","offset","top"],"mappings":"AAAAA,OAAOC,QAAQ,EAAEC,MAAM,SAASC,GAC7BA,EAAE,uBAAuB,EAAEC,GAAG,QAAS,WACpC,IAAIC,EAAYF,EAAEG,IAAI,EAAEC,KAAK,WAAW,EACpCC,EAAkB,GAClBC,EAAkB,GAEtB,GAAGN,EAAE,mBAAmB,EAAEO,KAAK,eAAe,EAAEC,OAqE7C,OApEAR,EAAE,YAAY,EAAES,YAAY,MAAM,EAElCT,EAAE,mBAAmB,EAAEO,KAAK,WAAW,EAAEG,KAAK,WAC3C,IAeUC,EAfNC,EAAY,CACbC,SAAWb,EAAEG,IAAI,EAAEI,KAAK,iBAAiB,EAAEO,KAAK,EAChDC,QAAU,EACb,EAEsBf,EAAEG,IAAI,EAAEI,KAAK,eAAe,EAClCG,KAAK,WAElBE,EAAUG,QAAQC,KAAKhB,EAAEG,IAAI,EAAEc,IAAI,CAAC,CACvC,CAAC,EAEDZ,EAAgBW,KAAKJ,CAAS,EAE3BZ,EAAEG,IAAI,EAAEe,SAAS,uBAAuB,IACrClB,EAAEG,IAAI,EAAEe,SAAS,UAAU,GACvBP,EAAkB,GACtBX,EAAEG,IAAI,EAAEI,KAAK,eAAe,EAAEG,KAAK,WAChCC,EAAgBK,KAAKhB,EAAEG,IAAI,EAAEc,IAAI,CAAC,CACrC,CAAC,EACDX,EAAgBU,KAAKL,CAAe,GAEpCX,EAAEG,IAAI,EAAEI,KAAK,eAAe,EAAEG,KAAK,WAChCJ,EAAgBU,KAAKhB,EAAEG,IAAI,EAAEc,IAAI,CAAC,CACrC,CAAC,EAGV,CAAC,EAkB2B,EAAzBX,EAAgBE,QAChBR,EAAEmB,KAAK,CACJC,IAAM,uDACNC,KAAO,OACPC,SAAW,OACXlB,KAAO,CACJF,UAAYA,EACZI,gBAAkBA,EAClBD,gBAAkBA,CACrB,EACAkB,QAAU,SAAUC,GACjBC,QAAQC,IAAIF,CAAQ,EACpBxB,EAAE,mCAAmC,EAAE2B,SAAS,QAAQ,EACxD3B,EAAE,eAAe,EAAES,YAAY,QAAQ,EACvCT,EAAE,gBAAgB,EAAE4B,OAAOJ,CAAQ,EACnCxB,EAAE,CAACF,SAAS+B,gBAAiB/B,SAASgC,KAAK,EAAEC,QAAQ,CAClDC,UAAWhC,EAAE,cAAc,EAAEiC,OAAO,EAAEC,IAAM,GAC9C,EAAG,IAAK,QAAQ,CACpB,CACH,CAAC,EAEG,CAAA,EAEPlC,EAAE,YAAY,EAAE2B,SAAS,MAAM,CAErC,CAAC,CACJ,CAAC"}