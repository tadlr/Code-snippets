{"version":3,"file":"tf-numbers-ajax.min.js","sources":["tf-numbers-ajax.js"],"sourcesContent":["jQuery(document).ready(function($) {\r\n\r\n   // phone number formatter\r\n   let formatPhoneNumber = (str) => {\r\n      //Filter only numbers from the input\r\n      let cleaned = ('' + str).replace(/\\D/g, '');\r\n\r\n      //Check if the input is of correct length\r\n      let match = cleaned.match(/^(\\d{3})(\\d{3})(\\d{4})$/);\r\n\r\n      if (match) {\r\n         return '(' + match[1] + ') ' + match[2] + '-' + match[3]\r\n      };\r\n\r\n      return null\r\n   };\r\n\r\n   // dynamic TF numbers swap based on utm_campaign/hubspot campaign\r\n   if($('body').hasClass('single-landings')) {\r\n\r\n      let pageLang = $('html').prop('lang');\r\n      let urlParams = new URLSearchParams(window.location.search); //get all parameters\r\n      var utm_campaign = '';\r\n      var hsa_cam = '';\r\n      var utm_medium = decodeURIComponent(urlParams.get('utm_medium'));\r\n\r\n      // get utm_campaign parameter value\r\n      if(urlParams.get('utm_campaign') && urlParams.get('utm_campaign') != '') {\r\n         var utm_campaign = decodeURIComponent(urlParams.get('utm_campaign'));\r\n      }\r\n      // get hubspot campaign parameter value\r\n      if(urlParams.get('hsa_cam') && urlParams.get('hsa_cam') != '') {\r\n         var hsa_cam = decodeURIComponent(urlParams.get('hsa_cam'));\r\n      }\r\n\r\n      //console.log(utm_campaign);\r\n      //console.log(hsa_cam);\r\n\r\n      if(utm_campaign != '' || hsa_cam != '') {\r\n         $.ajax({\r\n            url : 'https://wordpress-dev-appsvc.azurewebsites.net/wp-content/themes/custom_theme/partials/tf-numbers.php',\r\n            type : 'post',\r\n            dataType : 'html',\r\n            data : {\r\n               language : pageLang,\r\n               utm_campaign : utm_campaign,\r\n               hsa_cam : hsa_cam,\r\n               utm_medium : utm_medium,\r\n            },\r\n            success : function( response ) {\r\n               //console.log(response);\r\n               $('.landing-page-wrap').prepend(response);\r\n\r\n               $('a').each(function(index){\r\n                  if($(this).attr('href').includes('tel:')) {\r\n                     var newTel = response;\r\n                     $(this).attr('href', 'tel:' + newTel);\r\n      \r\n                     // don't update text of Talk to us now button or mobile sticky call button\r\n                     //contact-section-btn $(this).text().includes('Talk')\r\n                     if(!$(this).hasClass('contact-section-btn') && !$(this).parent('.landing-sticky-block').length) {\r\n                        $(this).text(formatPhoneNumber(newTel));\r\n                     }\r\n                  }\r\n               });\r\n            }\r\n         });\r\n      }\r\n   }\r\n});"],"names":["jQuery","document","ready","$","pageLang","urlParams","utm_medium","utm_campaign","hsa_cam","hasClass","prop","URLSearchParams","window","location","search","decodeURIComponent","get","ajax","url","type","dataType","data","language","success","response","prepend","each","index","newTel","this","attr","includes","parent","length","text","match","str","replace"],"mappings":"AAAAA,OAAOC,QAAQ,EAAEC,MAAM,SAASC,GAkB7B,IAEOC,EACAC,EAGAC,EAIGC,EAIAC,EAdPL,EAAE,MAAM,EAAEM,SAAS,iBAAiB,IAEhCL,EAAWD,EAAE,MAAM,EAAEO,KAAK,MAAM,EAChCL,EAAY,IAAIM,gBAAgBC,OAAOC,SAASC,MAAM,EAEtDN,EADAD,EAAe,GAEfD,EAAaS,mBAAmBV,EAAUW,IAAI,YAAY,CAAC,EAG5DX,EAAUW,IAAI,cAAc,GAAsC,IAAjCX,EAAUW,IAAI,cAAc,IACzDT,EAAeQ,mBAAmBV,EAAUW,IAAI,cAAc,CAAC,GAGnEX,EAAUW,IAAI,SAAS,GAAiC,IAA5BX,EAAUW,IAAI,SAAS,IAC/CR,EAAUO,mBAAmBV,EAAUW,IAAI,SAAS,CAAC,GAMzC,IAAhBT,GAAiC,IAAXC,GACtBL,EAAEc,KAAK,CACJC,IAAM,kGACNC,KAAO,OACPC,SAAW,OACXC,KAAO,CACJC,SAAWlB,EACXG,aAAeA,EACfC,QAAUA,EACVF,WAAaA,CAChB,EACAiB,QAAU,SAAUC,GAEjBrB,EAAE,oBAAoB,EAAEsB,QAAQD,CAAQ,EAExCrB,EAAE,GAAG,EAAEuB,KAAK,SAASC,GAClB,IACOC,EADJzB,EAAE0B,IAAI,EAAEC,KAAK,MAAM,EAAEC,SAAS,MAAM,IAChCH,EAASJ,EACbrB,EAAE0B,IAAI,EAAEC,KAAK,OAAQ,OAASF,CAAM,EAIhCzB,EAAE0B,IAAI,EAAEpB,SAAS,qBAAqB,GAAMN,EAAE0B,IAAI,EAAEG,OAAO,uBAAuB,EAAEC,QACrF9B,EAAE0B,IAAI,EAAEK,MA1DL,IAKjBC,GAHW,GAAKC,GAAKC,QAAQ,MAAO,EAAE,EAGtBF,MAAM,yBAAyB,EAEnD,OAAIA,EACM,IAAMA,EAAM,GAAK,KAAOA,EAAM,GAAK,IAAMA,EAAM,GAGlD,IACV,GA8CoDP,CAAM,CAAC,EAG/C,CAAC,CACJ,CACH,CAAC,EAGV,CAAC"}